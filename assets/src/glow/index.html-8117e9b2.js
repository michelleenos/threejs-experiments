import{V as r,a9 as h,M as d,b as o,S as M,f as u,aa as m,j as p,ab as g,k as b,ac as B}from"../../three.core-dda14ae8.js";/* empty css                  */import{S}from"../../scene-b712d980.js";import"../../three.module-bbe333d0.js";import"../../OrbitControls-cba99037.js";class f{ballMesh;glowMesh;shaderMaterial;constructor({radius:e=100,segments:t=32,c:i=.01,p:s=5.3,color:a=16448250,glowColor:l=16763904,glowScale:w=1.4,position:c=[0,0,-150]}={}){this.shaderMaterial=this.initShaderMaterial(i,s,l),this.ballMesh=this.initBaseMesh(e,t,a),this.ballMesh.position.set(...c),this.glowMesh=this.initGlowMesh(w)}get position(){return this.ballMesh.position.toArray()}set position([e,t,i]){this.ballMesh.position.set(e,t,i),this.glowMesh.position.set(e,t,i)}set viewVector(e){this.shaderMaterial.uniforms.viewVector.value=e}initBaseMesh(e,t,i){let s=new h(e,t,t),a=new d({color:i});return new o(s,a)}controlPanel(e,t="Glow Ball"){let i=e.addFolder({title:t});i.addBinding(this.shaderMaterial.uniforms.c,"value",{min:0,max:1,step:.01,label:"c"}),i.addBinding(this.shaderMaterial.uniforms.p,"value",{min:0,max:10,step:.01,label:"p"})}addTo(e){e.add(this.ballMesh),e.add(this.glowMesh)}initGlowMesh(e){let t=new o(this.ballMesh.geometry,this.shaderMaterial);return t.position.copy(this.ballMesh.position),t.scale.multiplyScalar(e),t}initShaderMaterial(e,t,i){return new M({uniforms:{viewVector:{value:new r(0,0,0)},c:{value:e},p:{value:t},glowColor:{value:new u(i)}},fragmentShader:document.getElementById("fragment-shader")?.textContent||"",vertexShader:document.getElementById("vertex-shader")?.textContent||"",side:m,blending:p,transparent:!0})}}class v{ballMesh;sprite;constructor({radius:e=100,segments:t=32,color:i=16448250,position:s=[0,0,-150]}={}){this.ballMesh=this.initBaseMesh(e,t,i),this.sprite=this.initSprite(),this.ballMesh.position.set(...s),this.ballMesh.add(this.sprite)}get position(){return this.ballMesh.position.toArray()}set position([e,t,i]){this.ballMesh.position.set(e,t,i)}addTo(e){e.add(this.ballMesh)}initBaseMesh(e,t,i){let s=new h(e,t,t),a=new d({color:i});return new o(s,a)}initSprite(){let e=new g({map:new b().load("/glow.png"),color:11184895,transparent:!0,blending:p,depthTest:!1}),t=new B(e);return t.scale.set(400,400,1),t}}class G extends S{glowBall;spriteGlowBall;constructor(e=!0,{controls:t=!0,fov:i=90,clearColor:s=1118481,mouse:a=!1,rendererAlpha:l=!0}={}){super(e,{controls:t,fov:i,clearColor:s,mouse:a,rendererAlpha:l}),this.camera.position.z=300,this.controls&&(this.controls.enablePan=!0),this.dirLight({position:[.5,1,.2],color:16777215,intensity:.5}),this.glowBall=new f({glowScale:1.4,position:[-180,0,-150]}),this.pane&&this.glowBall.controlPanel(this.pane),this.glowBall.addTo(this.scene),this.spriteGlowBall=new v({position:[180,0,-150]}),this.spriteGlowBall.addTo(this.scene),this.addToDom(),this.animate()}render(){this.glowBall.viewVector=new r().subVectors(this.camera.position,new r(...this.glowBall.position)),this.controls&&this.controls.update(),this.renderer.render(this.scene,this.camera)}}new G;
